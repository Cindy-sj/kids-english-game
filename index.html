<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Kids English Game</title>
  <style>
    body{
      font-family: Arial, "PingFang SC", "Microsoft YaHei", sans-serif;
      text-align:center;
      background:#FFF8DC;
      margin:0;
      padding:24px 12px;
    }
    h1{ color:#FF6B6B; margin:8px 0 6px; }
    .tip{ font-size:20px; margin:6px 0 18px; }
    .card{
      max-width:780px;
      margin:0 auto;
      background:#fff;
      border-radius:18px;
      padding:18px 16px;
      box-shadow:0 8px 24px rgba(0,0,0,.08);
    }
    .wordBox{
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      background:#4ECDC4;
      color:#fff;
      border-radius:22px;
      padding:22px 14px;
      margin:10px auto 14px;
      width:min(520px, 92vw);
    }
    .emoji{ font-size:54px; line-height:1; }
    .en{ font-size:46px; font-weight:700; margin:10px 0 4px; }
    .cn{ font-size:24px; opacity:.95; }
    .btnRow{
      display:flex;
      gap:12px;
      justify-content:center;
      flex-wrap:wrap;
      margin:10px 0 4px;
    }
    button{
      border:none;
      border-radius:16px;
      cursor:pointer;
      padding:14px 18px;
      font-size:22px;
    }
    .btnSpeak{ background:#1A535C; color:#fff; }
    .btnNext{ background:#FF9F1C; color:#fff; }
    .options{
      display:grid;
      grid-template-columns:1fr;
      gap:12px;
      max-width:520px;
      margin:12px auto 4px;
    }
    .opt{
      background:#F2F6FF;
      border:2px solid transparent;
      border-radius:16px;
      padding:16px 14px;
      font-size:26px;
    }
    .opt:hover{ border-color:#BBD0FF; }
    .msg{
      min-height:36px;
      font-size:26px;
      font-weight:700;
      margin:12px 0 2px;
    }
    .ok{ color:#17a34a; }
    .bad{ color:#dc2626; }
    .small{ font-size:16px; opacity:.75; margin-top:10px; }
  </style>
</head>
<body>

  <h1>ğŸŒˆ Learn English ğŸŒˆ</h1>
  <div class="tip">å¬å‘éŸ³ï¼Œçœ‹å›¾ï¼Œé€‰æ‹©æ­£ç¡®çš„ä¸­æ–‡æ„æ€ï¼</div>

  <div class="card">
    <div class="wordBox">
      <div class="emoji" id="emoji">ğŸ</div>
      <div class="en" id="enWord">Apple</div>
      <div class="cn" id="cnHint">ï¼ˆè¯·é€‰æ‹©æ­£ç¡®ä¸­æ–‡ï¼‰</div>
    </div>

    <div class="btnRow">
      <button class="btnSpeak" onclick="speakCurrent()">ğŸ”Š å¬å‘éŸ³</button>
      <button class="btnNext" onclick="nextQuestion()">â¡ï¸ ä¸‹ä¸€é¢˜</button>
    </div>

    <div class="options" id="options"></div>

    <div class="msg" id="msg"></div>
    <div class="small">å°æç¤ºï¼šå¦‚æœæ²¡æœ‰å£°éŸ³ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦å…è®¸æ’­æ”¾å£°éŸ³ã€‚</div>
  </div>

<script>
  // å•è¯åº“ï¼ˆä½ å¯ä»¥ç»§ç»­å¾€é‡ŒåŠ ï¼‰
  const words = [
    { en:"Apple",  cn:"è‹¹æœ",  emoji:"ğŸ" },
    { en:"Dog",    cn:"ç‹—",    emoji:"ğŸ¶" },
    { en:"Cat",    cn:"çŒ«",    emoji:"ğŸ±" },
    { en:"Car",    cn:"æ±½è½¦",  emoji:"ğŸš—" },
    { en:"Banana", cn:"é¦™è•‰",  emoji:"ğŸŒ" },
    { en:"Ball",   cn:"çƒ",    emoji:"âš½" },
    { en:"Sun",    cn:"å¤ªé˜³",  emoji:"â˜€ï¸" },
    { en:"Fish",   cn:"é±¼",    emoji:"ğŸŸ" },
    { en:"Milk",   cn:"ç‰›å¥¶",  emoji:"ğŸ¥›" },
    { en:"Bread",  cn:"é¢åŒ…",  emoji:"ğŸ" }
  ];

  let current = null;

  function speak(text){
    // å…¼å®¹æ€§ï¼šéƒ¨åˆ†æ‰‹æœºéœ€è¦å…ˆç‚¹ä¸€æ¬¡æŒ‰é’®æ‰å…è®¸å‘å£°
    const u = new SpeechSynthesisUtterance(text);
    u.lang = "en-US";
    u.rate = 0.85;
    u.pitch = 1;
    window.speechSynthesis.cancel();
    window.speechSynthesis.speak(u);
  }

  function speakCurrent(){
    if(current) speak(current.en);
  }

  function shuffle(arr){
    return arr.map(v=>({v, r:Math.random()}))
              .sort((a,b)=>a.r-b.r)
              .map(x=>x.v);
  }

  function pick3Options(correctCn){
    // å–æ­£ç¡® + 2ä¸ªéšæœºé”™è¯¯
    const other = words
      .map(w=>w.cn)
      .filter(cn=>cn !== correctCn);
    const wrong2 = shuffle(other).slice(0,2);
    return shuffle([correctCn, ...wrong2]);
  }

  function setMessage(type, text){
    const msg = document.getElementById("msg");
    msg.className = "msg " + (type === "ok" ? "ok" : type === "bad" ? "bad" : "");
    msg.textContent = text || "";
  }

  function renderQuestion(){
    document.getElementById("emoji").textContent = current.emoji;
    document.getElementById("enWord").textContent = current.en;
    document.getElementById("cnHint").textContent = "ï¼ˆè¯·é€‰æ‹©æ­£ç¡®ä¸­æ–‡ï¼‰";
    setMessage("", "");

    const opts = pick3Options(current.cn);
    const box = document.getElementById("options");
    box.innerHTML = "";

    opts.forEach(cn=>{
      const btn = document.createElement("button");
      btn.className = "opt";
      btn.textContent = cn;
      btn.onclick = ()=> checkAnswer(cn);
      box.appendChild(btn);
    });

    // è¿›å…¥é¢˜ç›®æ—¶è‡ªåŠ¨è¯»ä¸€æ¬¡ï¼ˆæ›´åƒæ¸¸æˆï¼‰
    speakCurrent();
  }

  function checkAnswer(selectedCn){
    if(selectedCn === current.cn){
      setMessage("ok", "âœ… Correct! çœŸæ£’ï¼");
      // ç­”å¯¹åå†è¯»ä¸€æ¬¡è‹±æ–‡å¼ºåŒ–è®°å¿†
      speakCurrent();
      // 800ms åè‡ªåŠ¨ä¸‹ä¸€é¢˜
      setTimeout(nextQuestion, 800);
    }else{
      setMessage("bad", "âŒ Try again! å†è¯•ä¸€æ¬¡ï½");
    }
  }

  function nextQuestion(){
    current = words[Math.floor(Math.random() * words.length)];
    renderQuestion();
  }

  // åˆå§‹å‡ºé¢˜
  nextQuestion();
</script>

</body>
</html>
